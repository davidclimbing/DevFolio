<section class="projects" [ngClass]="currentDevice ? 'projects--' + currentDevice : ''">
  <div class="projects__wrap" [ngClass]="isExpanded ? 'projects__wrap--expanded' : ''">
    <h2 class="projects__title" [routerLink]="['/', 'projects']">PROJECTS</h2>

    <div class="projects__content-wrap" #slide>
      @if (!isExpanded) {
        <div class="projects__arrow-wrap">
          <button class="projects__arrow"
                  [disabled]="!(currentPage > 1)"
                  (click)="movePreviousPage()">
            <span class="material-icons">chevron_left</span>
          </button>
          <button class="projects__arrow projects__arrow--next"
                  [disabled]="!(currentPage + 1 < projects?.length)"
                  (click)="moveNextPage()">
            <span class="material-icons">chevron_right</span>
          </button>
        </div>
      }
      <div class="projects__card-wrap">
        @if (isExpanded) {
          @for (project of projects; track project.title) {
            <div class="projects__cards" (click)="onOpenProjectDetails(project)">
              <app-project-card [project]="project"></app-project-card>
            </div>
          }
        } @else {
          <div class="projects__cards" [style]="styleOfLeftShiftPercentOnSlide">
            @if (loadingSignal()) {
              @for (project of projects; track project.title) {
                <div [style]="computedWidthOfCard" (click)="onOpenProjectDetails(project)">
                  <app-project-card [project]="project"></app-project-card>
                </div>
              }
            } @else {
              @for (project of projects; track project.title) {
                <div class="projects__mockup-cards" [style]="computedWidthOfCard"></div>
              }
            }
          </div>
        }
      </div>
    </div>
    <ng-template>
      <div class="projects__mockup-cards"></div>
    </ng-template>
  </div>
</section>
